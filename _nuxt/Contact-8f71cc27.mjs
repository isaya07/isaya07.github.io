import{_ as y,R as E,r as b,o,c as m,a as e,w as j,b as d,v as f,n as c,d as _,e as u,f as h,t as p,g as v}from"./entry-2e25649c.mjs";function k(s,t){var a=new XMLHttpRequest;a.open("POST","https://formsubmit.co/ajax/2eece65b36ddffd4b1682de2f7dd00be",!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("Accept","application/json"),a.onload=function(){t(this.responseText)},a.send(JSON.stringify(s))}const V=(s,t)=>{var a=new XMLHttpRequest;a.open("POST","https://www.google.com/recaptcha/api/siteverify?secret=6LesOikgAAAAAGwweyUjjVpxaulF7NZCw8JuxIJV&response="+s,!0),a.onload=function(){t(this.responseText)},a.send(s)};function g(s,t){var a=null;return function(){clearTimeout(a);var x=arguments,r=this;a=setTimeout(function(){s.apply(r,x)},t)}}const w={name:"contact",data(){return{nom:null,email:null,tel:null,sujet:null,message:null,errors:{},loading:!1,recaptcha:{}}},mounted(){E.load("6LesOikgAAAAAGwweyUjjVpxaulF7NZCw8JuxIJV",{useRecaptchaNet:!1,autoHideBadge:!1}).then(s=>{this.recaptcha=s})},methods:{hasError(s){return s in this.errors&&this.errors[s]!==null},validateEmail(s){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)},alpha(s){return/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ:()_°'.",%/\-\s]*$/i.test(s)},phoneNumber(s){return/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/.test(s)},validNom(s){!s||s===""?this.errors.nom="Le champ nom est requis...":this.alpha(s)?this.errors.nom=null:this.errors.nom="Votre nom et mal format\xE9..."},validEmail(s){!s||s===""?this.errors.email="Le champ couriel est requis...":this.validateEmail(s)?this.errors.email=null:this.errors.email="Votre adresse de couriel est invalide..."},validMessage(s){!s||s===""?this.errors.message="Le champ message est requis...":this.alpha(s)?this.errors.message=null:this.errors.message="Votre message et mal format\xE9..."},onSubmit(){let s=!0;for(let t in this.errors)this.errors[t]!==null&&(s=!1);s?this.recaptcha.execute("submit").then(t=>{console.log(t),this.onVerify(t)}):alert("Votre formulaire de contact comporte des erreurs ou des donn\xE9es manquantes, merci de les corriger")},onVerify:function(s){this.loading=!0,console.log("Verify: "+s),V(s,alert);const t={};t.nom=this.nom,t.email=this.email,t.message=this.message,this.tel&&(t.tel=this.tel),this.sujet&&(t.sujet=this.sujet),k(t,a=>{this.loading=!1,alert(a)})},onExpired:function(){console.log("Expired")}},watch:{nom:g(function(s){this.validNom(s)},1e3),email:g(function(s){this.validEmail(s)},1e3),tel:g(function(s){this.phoneNumber(s)?this.errors.tel=null:this.errors.tel="Votre numero de t\xE9l\xE9phone est invalide..."},1e3),sujet:g(function(s){this.alpha(s)?this.errors.sujet=null:this.errors.sujet="Votre sujet et mal format\xE9..."},1e3),message:g(function(s){this.validMessage(s)},1e3)}},A={class:"container is-widescreen has-text-left is-flex"},N={class:"section"},q={class:"content"},C=e("h3",null,"Contactez nous...",-1),T=e("p",{class:"texte"},"Pour toutes demandes de renseignements, n'h\xE9sitez pas \xE0 nous contacter, soit par ce formulaire, soit directement avec les coordonn\xE9es que vous trouverez en bas de page.",-1),S={class:"field"},R=e("label",{class:"label"},[v("Nom"),e("em",null,[e("strong",null,"*")])],-1),z={class:"control has-icons-left has-icons-right"},H={class:"icon is-small is-left"},L={key:0,class:"help is-danger"},M={class:"field"},U=e("label",{class:"label"},[v("Courriel"),e("em",null,[e("strong",null,"*")])],-1),B={class:"control has-icons-left has-icons-right"},J={class:"icon is-small is-left"},O={key:0,class:"help is-danger"},P={class:"field"},Z=e("label",{class:"label"},"Tel\xE9phone",-1),D={class:"control has-icons-left has-icons-right"},I={class:"icon is-small is-left"},F={key:0,class:"help is-danger"},G={class:"field"},X=e("label",{class:"label"},"Sujet",-1),K={class:"control has-icons-left has-icons-right"},Q={class:"icon is-small is-left"},W={key:0,class:"help is-danger"},Y={class:"field"},$=e("label",{class:"label"},[v("Message"),e("em",null,[e("strong",null,"*")])],-1),ee={class:"control is-expanded has-icons-right"},se={key:0,class:"help is-danger"},te=e("div",{class:"is-pulled-right"},[e("em",null,[e("strong",null,"*"),v(" champs requis.")])],-1),re={class:"field"},ie={class:"control"};function oe(s,t,a,x,r,i){const l=b("font-awesome-icon");return o(),m("div",A,[e("main",null,[e("section",N,[e("div",q,[C,T,e("form",{onSubmit:t[5]||(t[5]=j((...n)=>i.onSubmit&&i.onSubmit(...n),["prevent"])),novalidate:""},[e("div",S,[R,e("div",z,[d(e("input",{class:c({input:!0,"is-danger":i.hasError("nom")}),name:"nom",type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>r.nom=n),placeholder:"Nom et Pr\xE9nom",required:""},null,2),[[f,r.nom,void 0,{trim:!0}]]),e("span",H,[_(l,{icon:["fas","user"]})]),e("span",{class:c(["icon is-small is-right",i.hasError("nom")?"has-text-danger":"has-text-success"])},[i.hasError("nom")?(o(),u(l,{key:0,icon:["fas","exclamation-triangle"]})):"nom"in r.errors?(o(),u(l,{key:1,icon:["fas","check"]})):h("",!0)],2)]),i.hasError("nom")?(o(),m("p",L,p(r.errors.nom),1)):h("",!0)]),e("div",M,[U,e("div",B,[d(e("input",{class:c({input:!0,"is-danger":i.hasError("email")}),name:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=n=>r.email=n),placeholder:"example@domaine.com",required:""},null,2),[[f,r.email,void 0,{trim:!0}]]),e("span",J,[_(l,{icon:["fas","envelope"]})]),e("span",{class:c(["icon is-small is-right",i.hasError("email")?"has-text-danger":"has-text-success"])},[i.hasError("email")?(o(),u(l,{key:0,icon:["fas","exclamation-triangle"]})):"email"in r.errors?(o(),u(l,{key:1,icon:["fas","check"]})):h("",!0)],2)]),i.hasError("email")?(o(),m("p",O,p(r.errors.email),1)):h("",!0)]),e("div",P,[Z,e("div",D,[d(e("input",{class:c({input:!0,"is-danger":i.hasError("tel")}),name:"tel",type:"tel","onUpdate:modelValue":t[2]||(t[2]=n=>r.tel=n),placeholder:"1111111111"},null,2),[[f,r.tel,void 0,{trim:!0}]]),e("span",I,[_(l,{icon:["fas","phone"]})]),e("span",{class:c(["icon is-small is-right",i.hasError("tel")?"has-text-danger":"has-text-success"])},[i.hasError("tel")?(o(),u(l,{key:0,icon:["fas","exclamation-triangle"]})):"tel"in r.errors?(o(),u(l,{key:1,icon:["fas","check"]})):h("",!0)],2)]),i.hasError("tel")?(o(),m("p",F,p(r.errors.tel),1)):h("",!0)]),e("div",G,[X,e("div",K,[d(e("input",{class:c({input:!0,"is-danger":i.hasError("sujet")}),name:"sujet",type:"text","onUpdate:modelValue":t[3]||(t[3]=n=>r.sujet=n),placeholder:"Demande de rensiegnement"},null,2),[[f,r.sujet,void 0,{trim:!0}]]),e("span",Q,[_(l,{icon:["fas","pencil-alt"]})]),e("span",{class:c(["icon is-small is-right",i.hasError("sujet")?"has-text-danger":"has-text-success"])},[i.hasError("sujet")?(o(),u(l,{key:0,icon:["fas","exclamation-triangle"]})):"sujet"in r.errors?(o(),u(l,{key:1,icon:["fas","check"]})):h("",!0)],2)]),i.hasError("sujet")?(o(),m("p",W,p(r.errors.sujet),1)):h("",!0)]),e("div",Y,[$,e("div",ee,[d(e("textarea",{class:c({textarea:!0,"is-danger":i.hasError("message")}),name:"message","onUpdate:modelValue":t[4]||(t[4]=n=>r.message=n),placeholder:"Tapez votre message ici...",required:""},null,2),[[f,r.message,void 0,{trim:!0}]]),e("span",{class:c(["icon is-small is-right",i.hasError("message")?"has-text-danger":"has-text-success"])},[i.hasError("message")?(o(),u(l,{key:0,icon:["fas","exclamation-triangle"]})):"message"in r.errors?(o(),u(l,{key:1,icon:["fas","check"]})):h("",!0)],2)]),i.hasError("message")?(o(),m("p",se,p(r.errors.message),1)):h("",!0)]),te,e("div",re,[e("div",ie,[e("button",{class:c(["button is-danger",{"is-loading":r.loading}]),type:"submit"}," Envoyer ",2)])])],32)])])])])}var le=y(w,[["render",oe]]);export{le as default};
