import{_ as E,R as y,r as b,o as i,c as d,a as e,w as k,b as p,v as f,n,d as v,e as c,f as h,t as g,g as x}from"./entry-bf8214f2.mjs";function j(s,t,u){var m=new XMLHttpRequest;m.open("POST",s,!0),m.onload=function(){u(this.responseText)},m.send(t)}function _(s,t){var u=null;return function(){clearTimeout(u);var m=arguments,r=this;u=setTimeout(function(){s.apply(r,m)},t)}}const V={name:"contact",data(){return{nom:null,email:null,tel:null,sujet:null,message:null,errors:{},loading:!1,recaptcha:{}}},mounted(){y.load("6LesOikgAAAAAGwweyUjjVpxaulF7NZCw8JuxIJV",{useRecaptchaNet:!0,autoHideBadge:!0}).then(s=>{this.recaptcha=s})},methods:{hasError(s){return s in this.errors&&this.errors[s]!==null},validateEmail(s){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)},alpha(s){return/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ:()_°'.",%/\-\s]*$/i.test(s)},phoneNumber(s){return/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/.test(s)},validNom(s){!s||s===""?this.errors.nom="Le champ nom est requis...":this.alpha(s)?this.errors.nom=null:this.errors.nom="Votre nom et mal format\xE9..."},validEmail(s){!s||s===""?this.errors.email="Le champ couriel est requis...":this.validateEmail(s)?this.errors.email=null:this.errors.email="Votre adresse de couriel est invalide..."},validMessage(s){!s||s===""?this.errors.message="Le champ message est requis...":this.alpha(s)?this.errors.message=null:this.errors.message="Votre message et mal format\xE9..."},onSubmit(){let s=!0;for(let t in this.errors)this.errors[t]!==null&&(s=!1);s?this.recaptcha.execute("submit").then(t=>{console.log(t),this.onVerify(t)}):alert("Votre formulaire de contact comporte des erreurs ou des donn\xE9es manquantes, merci de les corriger")},onVerify:function(s){this.loading=!0,console.log("Verify: "+s);var t=new FormData;t.append("nom",this.nom),t.append("email",this.email),t.append("message",this.message),this.tel&&t.append("tel",this.tel),this.sujet&&t.append("sujet",this.sujet),j("http://127.0.0.1",t,u=>{this.loading=!1,alert(u)})},onExpired:function(){console.log("Expired")}},watch:{nom:_(function(s){this.validNom(s)},1e3),email:_(function(s){this.validEmail(s)},1e3),tel:_(function(s){this.phoneNumber(s)?this.errors.tel=null:this.errors.tel="Votre numero de t\xE9l\xE9phone est invalide..."},1e3),sujet:_(function(s){this.alpha(s)?this.errors.sujet=null:this.errors.sujet="Votre sujet et mal format\xE9..."},1e3),message:_(function(s){this.validMessage(s)},1e3)}},w={class:"container is-widescreen has-text-left is-flex"},N={class:"section"},q={class:"content"},A=e("h3",null,"Contactez nous...",-1),C=e("p",{class:"texte"},"Pour toutes demandes de renseignements, n'h\xE9sitez pas \xE0 nous contacter, soit par ce formulaire, soit directement avec les coordonn\xE9es que vous trouverez en bas de page.",-1),T={class:"field"},z=e("label",{class:"label"},[x("Nom"),e("em",null,[e("strong",null,"*")])],-1),S={class:"control has-icons-left has-icons-right"},M={class:"icon is-small is-left"},U={key:0,class:"help is-danger"},B={class:"field"},D=e("label",{class:"label"},[x("Courriel"),e("em",null,[e("strong",null,"*")])],-1),L={class:"control has-icons-left has-icons-right"},P={class:"icon is-small is-left"},R={key:0,class:"help is-danger"},Z={class:"field"},H=e("label",{class:"label"},"Tel\xE9phone",-1),F={class:"control has-icons-left has-icons-right"},I={class:"icon is-small is-left"},J={key:0,class:"help is-danger"},O={class:"field"},G=e("label",{class:"label"},"Sujet",-1),X={class:"control has-icons-left has-icons-right"},K={class:"icon is-small is-left"},Q={key:0,class:"help is-danger"},W={class:"field"},Y=e("label",{class:"label"},[x("Message"),e("em",null,[e("strong",null,"*")])],-1),$={class:"control is-expanded has-icons-right"},ee={key:0,class:"help is-danger"},se=e("div",{class:"is-pulled-right"},[e("em",null,[e("strong",null,"*"),x(" champs requis.")])],-1),te={class:"field"},re={class:"control"};function ae(s,t,u,m,r,a){const o=b("font-awesome-icon");return i(),d("div",w,[e("main",null,[e("section",N,[e("div",q,[A,C,e("form",{onSubmit:t[5]||(t[5]=k((...l)=>a.onSubmit&&a.onSubmit(...l),["prevent"])),novalidate:""},[e("div",T,[z,e("div",S,[p(e("input",{class:n({input:!0,"is-danger":a.hasError("nom")}),name:"nom",type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>r.nom=l),placeholder:"Nom et Pr\xE9nom",required:""},null,2),[[f,r.nom,void 0,{trim:!0}]]),e("span",M,[v(o,{icon:["fas","user"]})]),e("span",{class:n(["icon is-small is-right",a.hasError("nom")?"has-text-danger":"has-text-success"])},[a.hasError("nom")?(i(),c(o,{key:0,icon:["fas","exclamation-triangle"]})):"nom"in r.errors?(i(),c(o,{key:1,icon:["fas","check"]})):h("",!0)],2)]),a.hasError("nom")?(i(),d("p",U,g(r.errors.nom),1)):h("",!0)]),e("div",B,[D,e("div",L,[p(e("input",{class:n({input:!0,"is-danger":a.hasError("email")}),name:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=l=>r.email=l),placeholder:"example@domaine.com",required:""},null,2),[[f,r.email,void 0,{trim:!0}]]),e("span",P,[v(o,{icon:["fas","envelope"]})]),e("span",{class:n(["icon is-small is-right",a.hasError("email")?"has-text-danger":"has-text-success"])},[a.hasError("email")?(i(),c(o,{key:0,icon:["fas","exclamation-triangle"]})):"email"in r.errors?(i(),c(o,{key:1,icon:["fas","check"]})):h("",!0)],2)]),a.hasError("email")?(i(),d("p",R,g(r.errors.email),1)):h("",!0)]),e("div",Z,[H,e("div",F,[p(e("input",{class:n({input:!0,"is-danger":a.hasError("tel")}),name:"tel",type:"tel","onUpdate:modelValue":t[2]||(t[2]=l=>r.tel=l),placeholder:"1111111111"},null,2),[[f,r.tel,void 0,{trim:!0}]]),e("span",I,[v(o,{icon:["fas","phone"]})]),e("span",{class:n(["icon is-small is-right",a.hasError("tel")?"has-text-danger":"has-text-success"])},[a.hasError("tel")?(i(),c(o,{key:0,icon:["fas","exclamation-triangle"]})):"tel"in r.errors?(i(),c(o,{key:1,icon:["fas","check"]})):h("",!0)],2)]),a.hasError("tel")?(i(),d("p",J,g(r.errors.tel),1)):h("",!0)]),e("div",O,[G,e("div",X,[p(e("input",{class:n({input:!0,"is-danger":a.hasError("sujet")}),name:"sujet",type:"text","onUpdate:modelValue":t[3]||(t[3]=l=>r.sujet=l),placeholder:"Demande de rensiegnement"},null,2),[[f,r.sujet,void 0,{trim:!0}]]),e("span",K,[v(o,{icon:["fas","pencil-alt"]})]),e("span",{class:n(["icon is-small is-right",a.hasError("sujet")?"has-text-danger":"has-text-success"])},[a.hasError("sujet")?(i(),c(o,{key:0,icon:["fas","exclamation-triangle"]})):"sujet"in r.errors?(i(),c(o,{key:1,icon:["fas","check"]})):h("",!0)],2)]),a.hasError("sujet")?(i(),d("p",Q,g(r.errors.sujet),1)):h("",!0)]),e("div",W,[Y,e("div",$,[p(e("textarea",{class:n({textarea:!0,"is-danger":a.hasError("message")}),name:"message","onUpdate:modelValue":t[4]||(t[4]=l=>r.message=l),placeholder:"Tapez votre message ici...",required:""},null,2),[[f,r.message,void 0,{trim:!0}]]),e("span",{class:n(["icon is-small is-right",a.hasError("message")?"has-text-danger":"has-text-success"])},[a.hasError("message")?(i(),c(o,{key:0,icon:["fas","exclamation-triangle"]})):"message"in r.errors?(i(),c(o,{key:1,icon:["fas","check"]})):h("",!0)],2)]),a.hasError("message")?(i(),d("p",ee,g(r.errors.message),1)):h("",!0)]),se,e("div",te,[e("div",re,[e("button",{class:n(["button is-danger",{"is-loading":r.loading}]),type:"submit"}," Envoyer ",2)])])],32)])])])])}var oe=E(V,[["render",ae]]);export{oe as default};
